{"filter":false,"title":"app.py","tooltip":"/app.py","undoManager":{"mark":4,"position":4,"stack":[[{"start":{"row":485,"column":33},"end":{"row":486,"column":0},"action":"insert","lines":["",""],"id":1208},{"start":{"row":486,"column":0},"end":{"row":486,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":486,"column":8},"end":{"row":486,"column":12},"action":"remove","lines":["    "],"id":1209},{"start":{"row":486,"column":4},"end":{"row":486,"column":8},"action":"remove","lines":["    "]},{"start":{"row":486,"column":0},"end":{"row":486,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":486,"column":0},"end":{"row":487,"column":0},"action":"insert","lines":["",""],"id":1210}],[{"start":{"row":277,"column":0},"end":{"row":305,"column":0},"action":"remove","lines":["        insert = {","            \"name\": request.form.get(\"name\").lower(),","            \"rating_values\": [","                int(request.form.get(\"rating\"))","            ],","            \"prep_time\": request.form.get(\"prep_time\").lower(),","            \"cook_time\": request.form.get(\"cook_time\").lower(),","            \"serves\": request.form.get(\"serves\").lower(),","            \"ingredients\": request.form.getlist(\"ingredients\"),","            \"instructions\": request.form.getlist(\"instructions\"),","            \"categories\": {","                \"type\": request.form.get(\"type\").lower(),","                \"occasion\": request.form.get(\"occasion\").lower(),","                \"cuisine\": request.form.get(\"cuisine\").lower(),","                \"main_ing\": request.form.get(\"main_ing\").lower(),","            },","            \"author\": request.form.get(\"author\").lower(),","            \"img\": file_path,","            \"added_by\": user_id,","            \"added_date\": today_date,","            \"last_edited_date\": \"\",","            \"views\": 0,","            \"deleted\": False","        }","        ","        # Insert recipe dict (insert variable) into the database","        recipes_coll.insert_one(insert)","        ",""],"id":1211},{"start":{"row":277,"column":0},"end":{"row":310,"column":0},"action":"insert","lines":["        insert = {","            \"name\": request.form.get(\"name\").lower(),","            \"rating_values\": [","                int(request.form.get(\"rating\"))","            ],","            \"prep_time\": request.form.get(\"prep_time\").lower(),","            \"cook_time\": request.form.get(\"cook_time\").lower(),","            \"serves\": request.form.get(\"serves\").lower(),","            \"ingredients\": request.form.getlist(\"ingredients\"),","            \"instructions\": request.form.getlist(\"instructions\"),","            \"categories\": {","                \"type\": request.form.get(\"type\").lower(),","                \"occasion\": request.form.get(\"occasion\").lower(),","                \"cuisine\": request.form.get(\"cuisine\").lower(),","                \"main_ing\": request.form.get(\"main_ing\").lower(),","            },","            \"author\": request.form.get(\"author\").lower(),","            \"img\": file_path,","            \"added_by\": user_id,","            \"added_date\": today_date,","            \"last_edited_date\": \"\",","            \"views\": 0,","            \"likes\": 0,","            \"deleted\": False","        }","        ","        # Insert recipe dict (insert variable) into the database and get the new ID","        new_id = recipes_coll.insert_one(insert)","        ","        # Add the new recipe ID to the users collection for that user","        users_coll.update_one(","            {\"_id\": ObjectId(user_id)},","            {\"$push\": {\"added_recipes\": new_id.inserted_id}})",""]}],[{"start":{"row":310,"column":0},"end":{"row":311,"column":0},"action":"insert","lines":["",""],"id":1212}]]},"ace":{"folds":[],"scrolltop":4182,"scrollleft":0,"selection":{"start":{"row":316,"column":3},"end":{"row":316,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":297,"state":"start","mode":"ace/mode/python"}},"timestamp":1563799564175,"hash":"c24fd56e5f33367075b933b9ac4c26c6586201e5"}